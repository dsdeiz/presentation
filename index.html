<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Lame Presentation</title>

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/sky.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
  </head>

  <body>

    <div class="reveal">

      <div class="slides">

        <section>
          <h2>Intro to SimpleTest</h2>
          <ul>
            <li>Drupal's custom testing framework.</li>
            <li>Creates a separate instance of Drupal for testing.</li>
            <li>Automate tests.</li>
          </ul>
        </section>

        <section>
          <h2>Benefits of SimpleTest</h2>
          <ul>
            <li>Incompatibilities</li>
            <li>Errors</li>
          </ul>
        </section>

        <section>
          <h2>Setup</h2>
          <ul>
            <li>CURL extension for PHP</li>
            <li>PHP <a href="http://php.net/manual/en/ini.core.php#ini.open-basedir" rel="nofollow">open_basedir</a> restriction needs to be disabled.</li>
            <li>DOM extension for PHP. DOM support is included by default in php5.</li>
            <li>Recommended PHP memory limit of 256MB.</li>
          </ul>
        </section>

        <section>
          <h2>Running Tests</h2>
          <ul>
            <li>
              Via Web UI
              <ul>
                <li>Enable Testing module.</li>
                <li>Access <em>admin/config/development/testing</em>.</li>
                <li>Select a group to test</li>
                <li>Press <em>Run tests</em>.</li>
              </ul>
            </li>
            <li>Via <code>./scripts/run-tests.sh.</code></li>
            <li>Via <code>drush test-run</code>.</li>
          </ul>
        </section>

        <section>
          <h2>Assertions</h2>
          <p><a href="http://drupal.org/node/265828">http://drupal.org/node/265828</a></p>
        </section>

        <section>
          <h2>DrupalWebTestCase</h2>
          <p>Creates a fresh installation of Drupal with tables in a prefix <strong>simpletest*</strong> and has a virtual browser.</p>
        </section>

        <section>
          <h2>DrupalWebTestCase</h2>
          <pre><code class="php">
class ExampleTestCase extends DrupalWebTestCase {

  public static function getInfo() {
    return array(
      'name' => 'Name',
      'description' => 'Description',
      'group' => 'Group',
    );
  }

  public function setUp() {
    parent::setUp('example_module');
  }
}
          </code></pre>
        </section>

        <section>
          <h2>DrupalUnitTestCase</h2>
          <p>Doesn't create tables, and is lighter and faster.</p>
        </section>

        <section>
          <h2>DrupalUnitTestCase</h2>
          <pre><code class="php">
class ExampleUnitTestCase extends DrupalUnitTestCase {

  public static function getInfo() {
    return array(
      'name' => 'Name',
      'description' => 'Description',
      'group' => 'Group',
    );
  }

  public function setup() {
    drupal_load('module', 'example_module');
    parent::setUp();
  }
}
          </code></pre>
        </section>

        <section>
          <h2>Real World Examples</h2>
          <ol>
            <li><a target="_blank" href="http://drupalcode.org/project/imis_auth.git/blob/refs/heads/7.x-1.x:/tests/imis_auth.test">iMIS Auth</a></li>
            <li><a target="_blank" href="http://drupalcode.org/project/entity_js.git/blob/refs/heads/7.x-1.x:/entity_js.test">entity_js</a></li>
          </ol>
        </section>

        <section>
          <h2>Really Real World Examples</h2>
          <p><a href="http://api.drupal.org/api/search/7/.test">http://api.drupal.org/api/search/7/.test</a></p>
        </section>

        <section>
          <h2>Demo!</h2>
          <p><a href="https://github.com/dsdeiz/testing-testing">https://github.com/dsdeiz/testing-testing</a></p>
        </section>

        <section>
          <h3>Web Test Cases</h3>
          <ul>
            <li>Employee CRUD</li>
            <li>Department CRUD</li>
            <li>Overview Page Access</li>
          </ul>
        </section>

        <section>
          <h3>Unit Test Cases</h3>
          <ul>
            <li>Employee Positions</li>
            <li>Salary Validation</li>
            <li>SalaryDeduction</li>
          </ul>
        </section>

        <section>
          <h2>Resources and References</h2>
          <ul>
            <li><a href="http://drupal.org/simpletest">SimpleTest Handbook</a></li>
            <li><a href="http://drupal.org/project/examples">Examples contrib module</a></li>
            <li>
              Improving speed:
              <ul>
                <li><a href="http://drupal.org/node/466972">http://drupal.org/node/466972</a></li>
                <li><a href="http://qa.drupal.org/node/44">http://qa.drupal.org/node/44</a></li>
              </ul>
            </li>
          </ul>
        </section>

        <section>
          <h2><em>Fin.</em></h2>
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,

        rollingLinks: false,

        transition: 'linear',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          // { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          // { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          // { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          // { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          // { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]

      });

    </script>

  </body>
</html>
